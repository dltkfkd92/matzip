<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>공지사항 상세보기</title>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	<div class="page-content">
		<div class="page-title">공지사항</div>
		
		<div class="btn-zone">
			<a th:href="@{/notice/noticeList?reqPage=1}" class="btn">목록으로</a>
			<th:block th:if="${session.member != null && session.member.memberLevel == 1}">
				<a th:href="@{/notice/updateFrm(noticeNo=${n.noticeNo})}" class="btn">수정</a>
				<button class="btn" th:onclick="noticeDelete([[${n.noticeNo}]]);">삭제</button>
			</th:block>
		</div>
		
		<table class="tbl noticeView">
			<tr>
				<th colspan="6" th:text="${n.noticeTitle}"></th>
			</tr>
			<tr>
				<td th:text="${n.noticeWriter}"></td>
				<td th:text="${n.regDate}"></td>
				<th>첨부파일</th>
				<td>
					<th:block th:each="file : ${n.fileList}">
						<img src="/img/files.png" width="16px">
						<a th:href="@{/notice/filedown(filename=${file.filename},filepath=${file.filepath})}" th:text="다운로드"></a>
					</th:block>
				</td>
				<th>조회수</th>
				<td th:text="${n.readCount}"></td>
			</tr>
			<tr>
				<td colspan="6">
					<div class="noticeContent" th:utext="${n.noticeContent}"></div>
				</td>
			</tr>
		</table>
	</div>
	
	<script>
		function noticeDelete(noticeNo) {
			if(confirm("게시글을 삭제하시겠습니까?")) {
				location.href="/notice/delete?noticeNo="+noticeNo;
			}
		}
	</script>
	
	<th:block th:include="common/footer"></th:block>
</body>
</html>