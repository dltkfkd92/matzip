<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	
	  <div class="mid">
        <div class="pw-search-title">
            <h3>비밀번호 찾기</h3>
            <span>본인확인 이메일 주소와 입력한 이메일 주소가 같아야, 인증번호를 받을 수 있습니다.</span>
        </div>
        <div class="pw-search-wrap">            
            <form  action="#" method="post">
                <div>
                    <label for="pw-search-id ">아이디</label>
                    <input type="text" name="pw-search-id" id="pw-search-id"><span id=checkId></span>
                </div>
                <div>
                    <label for="pw-search-email">이메일</label>
                    <input type="text" name="pw-search-email" id="pw-search-email">
                    <button type="submit" name="pw-search-email-btn">인증번호받기</button>

                </div>
                <div class="pass-num-box">
                    <input type="text" name="pass-num" id="pass-num" placeholder="인증번호 6자리입력">
                    <button type="button" name="pass-num-btn">인증하기</button>
                </div>
            </form>
        </div>
    </div>    
	<th:block th:include="common/footer"></th:block>
	<script>
	$("#pw-search-id").on("change",function(){
		const memberId = $(this).val();
		$.ajax({
			url: "/mail/checkId",
			type:"get",
			data:{memberId : memberId},			
			success : function(data){
				if(data==0){
					$("#checkId").text(" ---- 확인불가");
					$("#checkId").css("color","red");
					$("#pw-search-id").css("border", "1px solid red");
				}else if(data==1){
					$("#checkId").text(" ------ 확인");
					$("#checkId").css("color","blue");
					$("#pw-search-id").css("border", "1px solid blue");
				}
			},
			error : function(){
				console.log("error");
			}
		});
	});
	</script>
</body>
</html>